"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[854],{2854:function(t,a,s){s.r(a),s.d(a,{default:function(){return p}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("TypeNav"),s("div",{staticClass:"main"},[s("div",{staticClass:"py-container"},[s("div",{staticClass:"bread"},[t._m(0),s("ul",{staticClass:"fl sui-tag"},[t.searchParams.categoryName?s("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.categoryName)+" "),s("i",{on:{click:t.removeCategoryName}},[t._v("x")])]):t._e(),t.searchParams.keyword?s("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.keyword)+" "),s("i",{on:{click:t.removeKeyword}},[t._v("x")])]):t._e(),t.searchParams.trademark?s("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.trademark.split(":")[1])+" "),s("i",{on:{click:t.removetrademark}},[t._v("x")])]):t._e(),t._l(t.searchParams.props,(function(a,e){return s("li",{directives:[{name:"show",rawName:"v-show",value:a,expression:"attrValue"}],key:e,staticClass:"with-x"},[t._v(" "+t._s(a.split(":")[1])+" "),s("i",{on:{click:function(a){return t.removeAttr(e)}}},[t._v("x")])])}))],2)]),s("SearchSelector",{on:{trademarkInfo:t.trademarkInfo,attrInfo:t.attrInfo}}),s("div",{staticClass:"details clearfix"},[s("div",{staticClass:"sui-navbar"},[s("div",{staticClass:"navbar-inner filter"},[s("ul",{staticClass:"sui-nav"},[s("li",{class:{active:t.isOne},on:{click:function(a){return t.changeOrder("1")}}},[s("a",[t._v("综合"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}],staticClass:"iconfont",class:{"icon-up1":t.isAcs,"icon-DOWN":t.isDesc}})])]),s("li",{class:{active:t.isTow},on:{click:function(a){return t.changeOrder("2")}}},[s("a",[t._v("价格"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isTow,expression:"isTow"}],staticClass:"iconfont",class:{"icon-up1":t.isAcs,"icon-DOWN":t.isDesc}})])])])])]),s("div",{staticClass:"goods-list"},[s("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(a,e){return s("li",{key:a.id,staticClass:"yui3-u-1-5"},[s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"p-img"},[s("router-link",{attrs:{to:"detail/"+a.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.defaultImg,expression:"good.defaultImg"}]})])],1),s("div",{staticClass:"price"},[s("strong",[s("em",[t._v("¥")]),s("i",[t._v(t._s(a.price)+".00")])])]),s("div",{staticClass:"attr"},[s("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(a.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),s("Pagination",{attrs:{pageNo:t.searchParams.pageNo,pageSize:t.searchParams.pageSize,total:t.total,continues:5},on:{getPageNo:t.getPageNo}})],1)],1)])],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",{staticClass:"fl sui-breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"commit"},[s("i",{staticClass:"command"},[t._v("已有"),s("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"operate"},[s("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),s("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=s(3019),c=s(629),n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"clearfix selector"},[s("div",{staticClass:"type-wrap logo"},[s("div",{staticClass:"fl key brand"},[t._v("品牌")]),s("div",{staticClass:"value logos"},[s("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(a,e){return s("li",{key:a.tmId,on:{click:function(s){return t.trademarkHandler(a)}}},[t._v(" "+t._s(a.tmName)+" ")])})),0)]),t._m(0)]),t._l(t.attrsList,(function(a,e){return s("div",{key:a.attrId,staticClass:"type-wrap"},[s("div",{staticClass:"fl key"},[t._v(t._s(a.attrName))]),s("div",{staticClass:"fl value"},[s("ul",{staticClass:"type-list"},t._l(a.attrValueList,(function(e,r){return s("li",{key:r,on:{click:function(s){return t.attrInfo(a,e)}}},[s("a",[t._v(t._s(e))])])})),0)]),s("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"ext"},[s("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),s("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],l={name:"SearchSelector",computed:(0,i.Z)({},(0,c.Se)(["trademarkList","attrsList"])),methods:{trademarkHandler:function(t){this.$emit("trademarkInfo",t)},attrInfo:function(t,a){this.$emit("attrInfo",t,a)}}},u=l,h=s(1001),d=(0,h.Z)(u,n,o,!1,null,"0182327e",null),m=d.exports,v={name:"Search",data:function(){return{searchParams:{categoryId1:"",categoryId2:"",categoryId3:"",categoryName:"",keyword:"",order:"1:desc",pageNo:3,pageSize:3,props:[""],trademark:""}}},components:{SearchSelector:m},beforeMount:function(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted:function(){this.getData()},computed:(0,i.Z)((0,i.Z)({},(0,c.Se)(["goodsList"])),{},{isOne:function(){return this.searchParams.order.includes("1")},isTow:function(){return this.searchParams.order.includes("2")},isAcs:function(){return this.searchParams.order.includes("asc")},isDesc:function(){return this.searchParams.order.includes("desc")}},(0,c.rn)({total:function(t){return t.search.searchList.total}})),methods:{getData:function(){this.$store.dispatch("getSearchList",this.searchParams)},removeCategoryName:function(){this.searchParams.categoryName=void 0,this.searchParams.categoryId1=void 0,this.searchParams.categoryId2=void 0,this.searchParams.categoryId3=void 0,this.getData(),this.$route.params&&this.$router.push({name:"soso",params:this.$route.params})},removeKeyword:function(){this.searchParams.keyword=void 0,this.getData(),this.$route.query&&this.$router.push({name:"soso",query:this.$route.query}),this.$bus.$emit("clearkeyword")},trademarkInfo:function(t){this.searchParams.trademark="".concat(t.tmId,":").concat(t.tmName),this.getData()},removetrademark:function(){this.searchParams.trademark=void 0,this.getData()},attrInfo:function(t,a){var s="".concat(t.attrId,":").concat(a,":").concat(t.attrName);this.searchParams.props.includes(s)||this.searchParams.props.push(s),this.getData()},removeAttr:function(t){this.searchParams.props.splice(t,1),this.getData()},changeOrder:function(t){var a=this.searchParams.order,s=a.split(":")[0],e=a.split(":")[1],r="";r=t==s?"".concat(s,":").concat("desc"==e?"asc":"desc"):"".concat(t,":","desc"),this.searchParams.order=r,this.getData()},getPageNo:function(t){this.searchParams.pageNo=t,this.getData()}},watch:{$route:function(t,a){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getData(),this.searchParams.categoryId1="",this.searchParams.categoryId2="",this.searchParams.categoryId3=""}}},f=v,g=(0,h.Z)(f,e,r,!1,null,"2ab1acad",null),p=g.exports}}]);
//# sourceMappingURL=854.8102055f.js.map